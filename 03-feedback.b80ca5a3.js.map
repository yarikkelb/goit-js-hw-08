{"mappings":"AACA,MACMA,EAAOC,SAASC,cAAc,mBAqBnC,WACE,IAAIC,EAAOC,aAAaC,QAvBT,uBAwBf,IAAKF,EAAM,OACXA,EAAOG,KAAKC,MAAMJ,GACjBK,OAAOC,QAAQN,GAAMO,SAAQ,EAAEC,EAAMC,MACpCZ,EAAKa,SAASF,GAAMC,MAAQA,GAAS,EAAE,IAE1C,IAAK,MAAME,KAAOX,EAChBH,EAAKa,SAASC,GAAKF,MAAQT,EAAKW,IAAQ,E,CA5B5CC,GACAf,EAAKgB,iBAAiB,UAGtB,SAAsBC,GAClBA,EAAEC,iBACH,MAAMC,MAAEA,EAAKC,QAAEA,GAAYH,EAAEI,cAAcR,SAC3CS,QAAQC,IAAI,CAAEJ,MAAOA,EAAMP,MAAOQ,QAASA,EAAQR,QAC/CR,aAAaC,QAVF,wBAWbD,aAAaoB,WAXA,uBAafP,EAAEI,cAAcI,O,IATnBzB,EAAKgB,iBAAiB,QAASU,UAW9B,SAAqBT,GACnB,IAAId,EAAOC,aAAaC,QAhBT,uBAiBhBF,EAAOA,EAAOG,KAAKC,MAAMJ,GAAQ,GAChCA,EAAKc,EAAEU,OAAOhB,MAAQM,EAAEU,OAAOf,MAAMgB,OACrCxB,aAAayB,QAnBE,sBAmBiBvB,KAAKwB,UAAU3B,G,GAfG","sources":["src/js/03-feedback.js"],"sourcesContent":["//import throttle from 'lodash.throttle';\nconst LOCAL_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\npopulateFeedbackForm();\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', throttle(onInputData, 500));\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n   const { email, message } = e.currentTarget.elements;\n   console.log({ email: email.value, message: message.value });\n   if (localStorage.getItem(LOCAL_KEY)) {\n     localStorage.removeItem(LOCAL_KEY);\n   }\n   e.currentTarget.reset();\n }\n function onInputData(e) {\n   let data = localStorage.getItem(LOCAL_KEY);\n  data = data ? JSON.parse(data) : {};\n   data[e.target.name] = e.target.value.trim();\n   localStorage.setItem(LOCAL_KEY, JSON.stringify(data));\n }\n\n function populateFeedbackForm() {\n   let data = localStorage.getItem(LOCAL_KEY);\n   if (!data) return;\n   data = JSON.parse(data);\n    Object.entries(data).forEach(([name, value]) => {\n     form.elements[name].value = value || '';\n  });\n  for (const key in data) {\n    form.elements[key].value = data[key] || '';\n   }\n }"],"names":["$945622fd0f572e60$var$form","document","querySelector","data","localStorage","getItem","JSON","parse","Object","entries","forEach","name","value","elements","key","$945622fd0f572e60$var$populateFeedbackForm","addEventListener","e","preventDefault","email","message","currentTarget","console","log","removeItem","reset","throttle","target","trim","setItem","stringify"],"version":3,"file":"03-feedback.b80ca5a3.js.map"}